webpackJsonp([1],{"9rLS":function(e,t){},NHnr:function(e,t,n){"use strict";function o(e){n("9rLS")}function r(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,o=window.location.hash.substring(1);e=n.exec(o);)t[e[1]]=decodeURIComponent(e[2]);return t}function s(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function a(e){var t="",n="";"localhost:8080"==location.host?(t="d691b67437944ac1bb56a568badcc0e1",n="http://localhost:8080/authorize"):(t="d691b67437944ac1bb56a568badcc0e1",n="https://spotify-test-84f79.firebaseapp.com/authorize");var o=s(16);localStorage.setItem(e,o);var r="https://accounts.spotify.com/authorize";r+="?response_type=token",r+="&client_id="+encodeURIComponent(t),r+="&scope="+encodeURIComponent("user-read-private user-read-email"),r+="&redirect_uri="+encodeURIComponent(n),r+="&state="+encodeURIComponent(o),window.location=r}function i(e){n("Q99M")}Object.defineProperty(t,"__esModule",{value:!0});var u=n("7+uW"),l={name:"app"},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},p=[],d={render:c,staticRenderFns:p},h=d,m=n("VU/8"),v=o,_=m(l,h,!1,v,null,null),g=_.exports,f=n("/ocq"),y=n("mtWM"),b=n.n(y),I={name:"KeywordSearch",data:function(){return{results:null,errors:[],query:"",mustLogin:!0,loggedIn:!1}},methods:{login:function(){var e="spotify_auth_state",t=(document.getElementById("user-profile-template").innerHTML,document.getElementById("user-profile")),n=(document.getElementById("oauth-template").innerHTML,document.getElementById("oauth"),r()),o=n.access_token,s=n.state,i=localStorage.getItem(e);!o||null!=s&&s===i?(localStorage.removeItem(e),o?b.a.get({url:"https://api.spotify.com/v1/me",headers:{Authorization:"Bearer "+o},success:function(e){t.innerHTML=userProfileTemplate(e),this.mustLogin=!1,this.loggedIn=!0}}):(this.mustLogin=!0,this.loggedIn=!1)):alert("There was an error during the authentication"),a(e)},getPlaylist:function(){var e=this;b.a.get("https://api.spotify.com/v1/search",{params:{q:this.query,type:"playlist"}}).then(function(t){e.results=t.data}).catch(function(t){e.errors.push(t)})}}},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.mustLogin,expression:"mustLogin"}],attrs:{id:"login"}},[n("p",[e._v("You must log in to Spotify to use this app.")]),e._v(" "),n("p",[n("button",{attrs:{id:"login-button"},on:{click:e.login}},[e._v("Log In")])]),e._v(" "),n("div",{attrs:{id:"user-profile-template"}}),e._v(" "),n("div",{attrs:{id:"user-profile"}}),e._v(" "),n("div",{attrs:{id:"oauth-template"}}),e._v(" "),n("div",{attrs:{id:"oauth"}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loggedIn,expression:"loggedIn"}],attrs:{id:"loggedIn"}},[n("p",[e._v("Music for your Mood")]),e._v(" "),n("p",[e._v("This is a playlist based on "+e._s(e.query))]),e._v(" "),n("form",{on:{submit:function(t){t.preventDefault(),e.getPlaylist(t)}}},[n("p",[e._v("I'm feeling like..."),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.query,expression:"query",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"something"},domProps:{value:e.query},on:{change:function(t){e.query=t.target.value}}}),n("button",{attrs:{type:"submit"}},[e._v("Go")])])]),e._v(" "),e.results&&e.results.length>0?n("ul",e._l(e.results,function(t){return n("li",[n("p",[e._v(e._s(e.playlists.items.name))]),e._v(" "),n("p",[e._v(e._s(e.playlists.items.tracks))])])})):e._e()])])},k=[],q={render:w,staticRenderFns:k},z=q,L=n("VU/8"),x=i,M=L(I,z,!1,x,"data-v-e6c077b4",null),R=M.exports,S={name:"Authorize",created:function(){console.log("Authorize created")},data:function(){var e=location.hash.split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return e[t[0]]=t[1],e},{}),t=e["#access_token"],n="search/"+t;return this.$router.push(n),{display_name:"test authorize"}},methods:{}},A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Congrats, you have been authorized.")]),e._v(" "),n("p",[e._v("Logged in as "+e._s(e.display_name))]),e._v(" "),n("router-link",{attrs:{to:"/"}},[e._v("Return Home")])],1)},U=[],C={render:A,staticRenderFns:U},E=C,P=n("VU/8"),T=P(S,E,!1,null,null,null),H=T.exports,N={name:"Search",created:function(){console.log("Search created")},data:function(){return{results:null,errors:[],query:"",mustLogin:!0,loggedIn:!!this.$route.params.access_token,access_token:this.$route.params.access_token}},methods:{getPlaylist:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(this.access_token)}},n="https://api.spotify.com/v1/search?type=playlist&q="+this.query,o=this;b.a.get(n,t).then(function(e){o.results=e.data.playlists.items,console.log(o.results)}).catch(function(t){e.errors.push(t)})}}},B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("p",[e._v("Congrats, you have been authorized.")]),e._v(" "),n("p",[e._v("Logged in as "+e._s(e.access_token))]),e._v(" "),n("router-link",{attrs:{to:"/"}},[e._v("Return Home")])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loggedIn,expression:"loggedIn"}],attrs:{id:"loggedIn"}},[n("p",[e._v("Music for your Mood")]),e._v(" "),n("p",[e._v("This is a playlist based on "+e._s(e.query))]),e._v(" "),n("form",{on:{submit:function(t){t.preventDefault(),e.getPlaylist(t)}}},[n("p",[e._v("I'm feeling like..."),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.query,expression:"query",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"something"},domProps:{value:e.query},on:{change:function(t){e.query=t.target.value}}}),n("button",{attrs:{type:"submit"}},[e._v("Go")])])]),e._v(" "),e.results&&e.results.length>0?n("ul",e._l(e.results,function(t,o){return n("li",{key:o},[n("p",[e._v(e._s(t.name))]),e._v(" "),n("p",[e._v(e._s(t.tracks.href))])])})):e._e()])])},$=[],V={render:B,staticRenderFns:$},F=V,D=n("VU/8"),G=D(N,F,!1,null,null,null),K=G.exports;u.a.use(f.a);var Q=new f.a({mode:"history",routes:[{path:"/",name:"KeywordSearch",component:R},{path:"/authorize",name:"Authorize",component:H},{path:"/search/:access_token",name:"Search",component:K}]}),W=n("9CA4"),j=n.n(W),J=n("5Vcx"),O=n.n(J);u.a.config.productionTip=!1,new u.a({el:"#app",router:Q,template:"<App/>",components:{App:g}}),u.a.use(O.a,new j.a)},Q99M:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5d7e60eb4d46403d37b7.js.map